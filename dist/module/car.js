"use strict";define(function(){function n(){}return n.prototype.init=function(){this.add(),this.del()},n.prototype.add=function(){$.post("http://localhost/api/vi/buy.php",function(t){t.data;var c="",l=0,p=0,a=0;$.each(t.data,function(n,i){for(var a=0;a<t.data[n].ringnum;a++)c+='\n          <div class="ringring">\n            <input type="checkbox">\n            <div class="ring_data">\n            <img src="'.concat(i.src.split(",")[0],'" alt="">\n            <div class="ring_right">\n              <p>\n                <em>').concat(i.ringname,"</em>\n                <i>对戒</i>\n                <b>￥").concat(i.price,'</b>\n                <span>移入礼物清单</span>\n                <span class="car_del" data-id="').concat(i.id,'">删除</span>\n              </p>\n              <p>\n                <em>对戒信息</em>\n                <i>材质：白18k金</i>\n                <span>展开查看详情 ></span>\n              </p>\n            </div>\n            </div>\n          </div>\n          '),p++,l+=Number(i.price)}),$(".ring_car").html(c),$(".jiesuan_ul").html("\n         <li>已选<span>".concat(p,"</span>件商品</li>\n         <li>总价：<span>").concat(l,"<span></li>\n         <li>免运费</li>\n         <li>立即结算</li>\n         ")),$(".car_del").on("click",function(){var i=$(this),n=$(this).attr("data-id");$.post("http://localhost/api/vi/del.php",{id:n},function(n){n&&(alert("删除成功!"),p--,a=i.parent().children().eq(2).html().slice(1),l-=a,$(".jiesuan_ul").html("\n            <li>已选<span>".concat(p,"</span>件商品</li>\n            <li>总价：<span>").concat(l,"<span></li>\n            <li>免运费</li>\n            <li>立即结算</li>\n            ")),i.parents(".ringring").remove(),console.log(i.attr("data-id")))})})},"json")},n.prototype.del=function(){},new n});